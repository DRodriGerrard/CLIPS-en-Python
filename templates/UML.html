<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Diagrama UML de Clases</title>
    <style>
        canvas {
            border: 1px solid black;
        }
        .form-container {
            margin-bottom: 20px;
        }
        .form-container input, .form-container select, .form-container button {
            margin: 5px;
        }
    </style>
</head>
<body>
    <div class="form-container">
      <!-- Botones adicionales para agregar clases, atributos y relaciones -->
        <label for="classNameInput">Nombre de la Clase:</label>
        <input type="text" id="classNameInput">
        <button onclick="addClass()">Agregar Clase</button>
        <br>

        <label for="attributeInput">Atributo:</label>
        <input type="text" id="attributeInput">
        <label for="attributeVisibility">Visibilidad:</label>
        <select id="attributeVisibility">
            <option value="+">public (+)</option>
            <option value="-">private (-)</option>
            <option value="#">protected (#)</option>
        </select>
        <label for="attributeType">Tipo:</label>
        <input type="text" id="attributeType">
        <button onclick="addAttribute()">Añadir Atributo</button>
        <br>

        <label for="methodInput">Método:</label>
        <input type="text" id="methodInput">
        <label for="methodVisibility">Visibilidad:</label>
        <select id="methodVisibility">
            <option value="+">public (+)</option>
            <option value="-">private (-)</option>
            <option value="#">protected (#)</option>
        </select>
        <label for="methodType">Tipo:</label>
        <input type="text" id="methodType">
        <button onclick="addMethod()">Añadir Método</button>
        <br>

        <label for="fromClassSelect">Clase Origen:</label>
        <select id="fromClassSelect"></select>
        <label for="toClassSelect">Clase Destino:</label>
        <select id="toClassSelect"></select>
        <label for="relationType">Tipo de Relación:</label>
        <select id="relationType">
            <option value="herencia">Herencia</option>
            <option value="asociación">Asociación</option>
            <option value="asociaciónDireccional">Asociación direccional</option>
            <option value="dependencia">Dependencia</option>
            <option value="composición">Composición</option>
            <option value="agregación">Agregación</option>
        </select>
        <label for="multiplicitySelect">Multiplicidad:</label>
        <select id="multiplicitySelect" onchange="toggleMultiplicityInput('multiplicitySelect', 'multiplicityText')">
            <option value="1">1</option>
            <option value="0..1">0..1</option>
            <option value="*">*</option>
            <option value="1..*">1..*</option>
            <option value="custom">Personalizado</option>
        </select>
        <input type="text" id="multiplicityText" placeholder="Ej: 2..5" style="display:none;" />
        <button onclick="addRelation()">Agregar Relación</button>
        <br>

        <!-- Botón para descargar XMI -->
        <button onclick="downloadXMI()">Descargar XMI</button>
    </div>
      <!-- Formulario para cargar XMI -->
      <form action="/upload_xmi" method="post" enctype="multipart/form-data">
        <label for="xmiFile">Cargar archivo XMI:</label>
        <input type="file" id="xmiFile" name="file" required>
        <button type="submit">Traducir</button>
    </form>
    <br>

    <!-- Canvas para el diagrama UML -->
    <canvas id="umlCanvas" width="1024" height="768"></canvas>

    <script src="/static/script.js"></script>
</body>
</html>